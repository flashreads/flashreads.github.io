<h2 id="writing-files-in-python">Writing files in Python</h2>

<p>Working with data, it is often useful not just to read files, but also to be
able to write data to files. Here we are going to discuss a first simple
approach on how to write data, that we have saved in lists to a file.</p>

<h2 id="create-the-data">Create the data</h2>

<p>Imagine, that you have read data from a file and calculated some new stuff, that
you have saved in two lists:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Now we want to write these to lists to a file, so we can forget about them for
a few weeks and then use a read-function and continue working again. A file we
are interested in might look something like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="p">,</span><span class="n">y</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">7</span>
<span class="mi">2</span><span class="p">,</span><span class="mi">6</span>
<span class="mi">3</span><span class="p">,</span><span class="mi">5</span>
<span class="mi">4</span><span class="p">,</span><span class="mi">4</span>
<span class="mi">5</span><span class="p">,</span><span class="mi">3</span>
<span class="mi">6</span><span class="p">,</span><span class="mi">2</span>
<span class="mi">7</span><span class="p">,</span><span class="mi">1</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="write-code-that-creates-a-file">Write code that creates a file</h2>

<p>The easiest code to create and write a file looks like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"testfile.dat"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>
    <span class="nb">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">"x,y</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)):</span>
        <span class="nb">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s">","</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The first line opens a file named “testfile.dat”. The “w”-statement opens a
file and overwrites content. If we swap it for “a” the new content will be
appended to the file. Try that one out to see the difference! The first write
statement just creates a nice heading for our file, while the rest of the file
is written in a loop and adds the data.</p>

<p>The single entries have to be given as strings, so the float (or whatever) has
to be converted. If you are not sure about the different outcome of</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>and</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="s">"x[i]"</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>try both out so it does not go wrong in an important moment.</p>

<p>Different to reading a file in Python it is not super easy to write a function to
write data to a file that
fits all needs. But try out some different options to save your data in the
python-program and you will find an option that suits your needs. And the
general structure usually does not change, so you will be able to go a long way
with the few lines you learned here!</p>
