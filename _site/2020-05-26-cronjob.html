<h1 id="cron-cron-job-and-crontab">Cron, cron job and crontab</h1>

<h2 id="what-are-cron-cron-job-and-crontab">What are cron, cron job, and crontab?</h2>
<p>Cron is a system that helps Linux users to schedule any task. However, a cron job is any defined task to run in a given time period. It can be a shell script or a simple bash command. Cron job helps us automate our routine tasks, it can be hourly, daily, monthly, etc.</p>

<p>Meanwhile, the crontab stands for cron table. It is a Linux system file that contains a list of the cron job. We define our task — bash command, shell script, Python script, etc scheduled in crontab.</p>

<h2 id="check-cron-service-on-linux-system">Check cron service on Linux system</h2>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>sudo systemctl status crond.service
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="understand-a-cron-job-syntax">Understand a cron job syntax</h2>
<p>Cron job syntax on crontab.</p>

<ul>
  <li>crontab -a <filename>: create a new <filename> as crontab file</filename></filename></li>
  <li>crontab -e: edit our crontab file or create one if it doesn’t already exist</li>
  <li>crontab -l: show up our crontab file</li>
  <li>crontab -r: delete our crontab file</li>
  <li>crontab -v: show up the last time we have edited our crontab file</li>
</ul>

<p>minute(s) hour(s) day(s) month(s) weekday(s) command(s)</p>

<p><img src="https://user-images.githubusercontent.com/23210714/135971402-b24c37db-67fc-4c61-992d-6d11a38eae44.png" alt="1" /></p>

<p>Note: day names 0–6 begin with Sunday.</p>

<h2 id="handling-error-on-cron-job">Handling error on cron job</h2>
<p>If the cron job encounters an error, the default, it will send an email to the system administrator.</p>

<h3 id="send-output-to-a-specific-file">Send output to a specific file</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  * * * * * cd /home/abc &amp;&amp; /bin/bash shell-script.sh &gt;&gt; log.out
</pre></td></tr></tbody></table></code></pre></div></div>
<p>The description of the above syntax on a crontab file is as follows:</p>
<ul>
  <li>The * * * * * means that a task will be executed every minute of every hour of every day of every month and every day of the week</li>
  <li>The directory will be switched to /home/abc where the shell-script.sh is located</li>
  <li>/bin/bash is the path and executable of the Bash shell</li>
  <li>The » symbol will append the output to an existing file (log.out), while a single &gt; symbol will overwrite the file</li>
  <li>The shell-script.sh is a certain shell script</li>
</ul>

<h3 id="use-devnull">Use /dev/null</h3>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  * * * * * cd /home/abc &amp;&amp; /bin/bash shell-script.sh &gt; /dev/null 2&gt;&amp;1
</pre></td></tr></tbody></table></code></pre></div></div>
<p>The description of the commands:</p>
<ul>
  <li>The &gt; /dev/null tells the cron to redirect the output (STDOUT) to /dev/null</li>
  <li>2 is the file descriptor for Standard Error (STDERR)</li>
  <li>&amp; is the symbol for file descriptor (without it, the following 1 will be a filename)</li>
  <li>
    <p>1 is the file descriptor for Standard Out (STDOUT)</p>

    <p>Note: The 2&gt;&amp;1 tells the cron to redirect all errors (STDERR) to same as standard out (STDOUT)</p>
  </li>
</ul>

<h2 id="write-a-simple-cron-automation-script">Write a simple cron automation script</h2>
<p>Open our terminal and type <strong>crontab -e</strong> to open a crontab file. Then, scroll down and type the following command.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>  * * * * * /bin/date &gt;&gt; /tmp/cron_output
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Check that it is working:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>tail -f /tmp/cron_output
</pre></td></tr></tbody></table></code></pre></div></div>
<p>You should see the date updated every minute on the minute (or close to it):</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>Tue Oct  5 12:25:47 IST 2021
Tue Oct  5 12:26:47 IST 2021
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>
<p>The cron job runs on a Linux system to run and execute our regular tasks (terminal commands). The most important thing to learn about the cron job is the bash command on the terminal, how to set our task schedule, and make sure to catch the whole possibilities when our script is running on production, so we can prevent the error.</p>

<h2 id="references">References</h2>
<p><a href="https://crontab.guru/">https://crontab.guru/</a></p>

<p><a href="https://towardsdatascience.com/create-your-first-cronjob-on-the-linux-server-74e2fdc76e78">https://towardsdatascience.com/create-your-first-cronjob-on-the-linux-server-74e2fdc76e78</a></p>
