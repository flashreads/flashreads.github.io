<h1 id="localization-and-internationalization">Localization and Internationalization</h1>
<p>You have made an application in Java and everyone is liking your work but there is one issue, not many people know your local language and hence the larger audience is unable to use your application. You want to add support for mutiple languages so that people from across the world can use your application. But there is one small problem you only know 3-4 languages :stuck_out_tongue_winking_eye:</p>

<p>Do not worry <code class="highlighter-rouge">Locale</code> and <code class="highlighter-rouge">ResourceBundle</code> have come to your rescue. These two classes are available under <code class="highlighter-rouge">java.util</code> package.</p>

<h2 id="locale">Locale</h2>
<p>Locale class will be used to store information about language as per ISO language codes.
Now what is this?
Each Locale is defined usign two things:</p>
<ul>
  <li>language code</li>
  <li>country code</li>
</ul>

<p>In ISO format two letters are used for describing language code (small) as well as country code (capitalized).
For example: <strong>English</strong> and <strong>Indian</strong> locale would be <strong>en IN</strong>, similarly <strong>Portuguese</strong> and <strong>Brazil</strong> locale would be <strong>pt BR</strong>.
In code a Locale object will be instantiated like this: <code class="highlighter-rouge">Locale localeObj = new Locale(language,country);</code> where language could be String containing “en” or “pt” or any other language code. Similarly, country String could hold “IN” or “BR” or any other country code.</p>

<h2 id="properties-files">Properties Files</h2>
<p>It’s fancy name for a file that stores <strong>key-value pairs</strong>. Basically we will use this file to store all the strings that we display in our application. Now, you can see how this will function. We will use same keys but change values for supporting different laguages and store it in a new properties file <code class="highlighter-rouge">MessageBundle_&lt;lannguage code&gt;_&lt;country code&gt;.properties</code>.
There will be one <strong>default</strong> properties file which will contain original strings that you have used in application. This properties files will be named as <code class="highlighter-rouge">MessageBundle.properties</code>. Let’s assume that the application was written in Portuguese and now we want to add support for English then we will have to create a <code class="highlighter-rouge">MessageBundle_en_IN.properties</code> file. You can see what the contents may look like.
<img src="https://i.imgur.com/rh5ZZ8r.png" alt="Two Properties Files" /></p>

<h2 id="resourcebundle">ResourceBundle</h2>
<p>This class provides functionality to read properties files. But as you can see there can be many such files. Thus, it requires <code class="highlighter-rouge">Locale</code> object and <code class="highlighter-rouge">"path/to/MessageBundle"</code> to narrow down on which file to use.
In code an object will be instantiated like this: <code class="highlighter-rouge">Resource messageObj = ResourceBundle("MessageBundle", localeObj);</code>
We read values from properies files using <strong>getString()</strong> function by passing <strong>key</strong> as argument as shown, <code class="highlighter-rouge">String str = messageObj.getString("Norte")</code> where Norte is a key in properties file.</p>

<h2 id="code-more-talk-less">Code more Talk less</h2>
<p>Create Language.java file (only to follow SPOC and modularize the code)</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre>import java.util.ResourceBundle;
import java.util.Locale;

public class Language {
    private Locale locale;
    public static ResourceBundle messages;
    public String lang;
    public String country;

    Language(){
        // default lamguage is potuguese
        this.lang = "pt";
        this.country = "PT";
        this.locale = new Locale(this.lang, this.country);
        messages = ResourceBundle.getBundle("MessageBundle", this.locale);
    }

    Language(String lang, String country){
        this.lang = lang;
        this.country = country;
        this.locale = new Locale(this.lang,this.country);
        messages = ResourceBundle.getBundle("MessageBundle", this.locale);
    }

    public String getMessage(String key){
        return messages.getString(key);
    } 

}
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Create Work.java</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="rouge-code"><pre>class Work.java{

// Language class defined above
private static Language langObj;

public static void main(String[] args){

		// user input
		try{	
			String language = new String(args[0]);
			String country = new String(args[1]);
			langObj = new Language(language,country);
		}
		catch(Exception e){
      // use default language
			langObj = new Language();
		}
    
    // before when Strings were written 
    // String Monstro_Cachorro_Dormindo = "ha um cachorro grande dormindo ao pe de uma arvore";
    
    // after replacing it 
    String Monstro_Cachorro_Dormindo = langObj.getMessage("Monstro_Cachorro_Dormindo");
    
    // Can also write as below, for cases where object cannot be referenced or passed.
    // String Monstro_Cachorro_Dormindo = Language.messages.getString("Monstro_Cachorro_Dormindo");
    
    System.out.println(Monstro_Cachorro_Dormindo);
    
    }
  }
}
</pre></td></tr></tbody></table></code></pre></div></div>
<p>In above program, if no input is given then we get output in Portuguese <code class="highlighter-rouge">ha um cachorro grande dormindo ao pe de uma arvore</code> and if <code class="highlighter-rouge">en IN</code> is given as input then output is in English <code class="highlighter-rouge">there is a big dog sleeping at the foot of a tree</code>.
Similarly, if we want to add support for French then we will have to create a MessageBundle_fr_FR.properties file only and pass <code class="highlighter-rouge">fr FR</code> as input for language selection and get the output in desired language without changing even a single line of code.</p>

<p>The example code shown is very simple but works well to explain the working. Similar functionality can be achieved in any kind of application large or small.</p>
