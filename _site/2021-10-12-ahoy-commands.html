<h1 id="ahoy">AHOY!</h1>

<p>This tool is very useful for automating and organizing your projects giving own CLI app with zero code and dependencies and can speed up your development.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>ahoy up
</pre></td></tr></tbody></table></code></pre></div></div>
<p>translates to</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="nv">$ </span>docker-compose build
<span class="nv">$ </span>docker-compose start
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="installation">Installation</h2>

<p>Instalation script for Linux user:</p>

<pre><code class="language-link">sudo wget -q https://github.com/devinci-code/ahoy/releases/download/1.1.0/ahoy-`uname -s`-amd64 -O /usr/local/bin/ahoy &amp;&amp; sudo chown $USER /usr/local/bin/ahoy &amp;&amp; chmod +x /usr/local/bin/ahoy
</code></pre>

<h2 id="usage">Usage</h2>

<p>The <code class="highlighter-rouge">ahoy</code> commands are specified in <code class="highlighter-rouge">.ahoy.yml</code> file placed in your root directory of your project.
The file can be initialized with command:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>$ ahoy init
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="ahoyyml-example">ahoy.yml example</h2>

<p>One example for your docker-compose environment</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre></td><td class="rouge-code"><pre>ahoyapi: v2
  
  commands:
    up:
      usage: Build and start project.
      cmd: |
        docker-compose up <span class="nt">-d</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
    stop:
      usage: Stops the project
      cmd: |
        docker-compose stop <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
  
    down:
      usage: Delete project <span class="o">(</span>CAUTION<span class="o">)</span><span class="nb">.</span>
      cmd: |
        <span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"y"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
          </span>docker-compose down <span class="nt">--volumes</span>
        <span class="k">else
          </span>ahoy confirm <span class="s2">"Running this command will destroy your
          current site, database and build? 
          Are you sure you didn't mean ahoy stop?"</span> <span class="o">&amp;&amp;</span>
          <span class="c"># Run this if confirm returns true</span>
          docker-compose down <span class="nt">--volumes</span> <span class="o">||</span>
          <span class="c"># Run this if confirm returns false</span>
          <span class="nb">echo</span> <span class="s2">"OK, probably a wise choice..."</span>
        <span class="k">fi
  
    </span>build:
      usage: Build project.
      cmd: |
        docker-compose up <span class="nt">-d</span> <span class="nt">--build</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span>
    cli:
      usage: Start a shell inside a container.
      cmd: docker-compose <span class="nb">exec</span> <span class="s2">"</span><span class="nv">$@</span><span class="s2">"</span> sh
    copy-config:
      usage: Copy config file to container | ahoy copy-config FILE CONTAINER
      cmd: docker <span class="nb">cp</span> <span class="nv">$1</span> <span class="k">$(</span>docker-compose ps <span class="nt">-q</span> <span class="nv">$2</span><span class="k">)</span>:/app/config
    dump-db:
      usage: Creates dump of your datbase container using custom script
      cmd: |
         <span class="nb">source</span> ./scripts/database_dump.sh

</pre></td></tr></tbody></table></code></pre></div></div>
