<h1 id="how-to-reset-the-mysql-root-password">How to reset the MySQL root password</h1>

<p>This is a usual situation where you have added a password to the root user during the MySQL installation, but later on, you forgot it and can’t login. Don’t worry, we have been to the same situation and will help you to change the password in a few steps.</p>

<ol>
  <li>The first thing to do is to stop the MySQL server:</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>sudo /etc/init.d/mysql stop
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>Start the server with additional flags:</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>sudo /usr/sbin/mysqld --skip-grant-tables --skip-networking &amp;
</pre></td></tr></tbody></table></code></pre></div></div>
<p>The <code class="highlighter-rouge">--skip-grant-tables</code> flag will start the server without the grant tables in MySQL system schema. That means no privileges and unrestricted access to all databases, so it is best to also disable remote connections by using the  <code class="highlighter-rouge">--skip_networking</code>.</p>

<ol>
  <li>Use the MySQL client to connect back to the server:</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre> mysql -u root
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>Now, let’s reload the grant tables:</li>
</ol>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">FLUSH</span> <span class="k">PRIVILEGES</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ol>
  <li>Update the password for <code class="highlighter-rouge">root</code> user:</li>
</ol>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">update</span> <span class="k">user</span> <span class="k">set</span> <span class="n">authentication_string</span><span class="o">=</span><span class="n">password</span><span class="p">(</span><span class="s1">'new_pass'</span><span class="p">)</span> <span class="k">where</span> <span class="k">user</span><span class="o">=</span><span class="s1">'root'</span><span class="p">;</span>
<span class="k">update</span> <span class="k">user</span> <span class="k">set</span> <span class="n">plugin</span><span class="o">=</span><span class="nv">"mysql_native_password"</span> <span class="k">where</span> <span class="k">User</span><span class="o">=</span><span class="s1">'root'</span><span class="p">;</span> 
</pre></td></tr></tbody></table></code></pre></div></div>
<p>The <code class="highlighter-rouge">mysql_native_password</code> is the default authentication plugin used. After executing the above query just restart the server and you can loggin with new password.</p>

<h2 id="change-the-root-password-in-mariadb-10x">Change the root password in MariaDB 10.x</h2>

<p>In the latest MariaDB versions the above steps are simplified. You can skip steps 1 and 2 from above. Start from the 3 step and use <code class="highlighter-rouge">sudo</code> when login to MySQL client. The 4 and 5 steps are the same. To verify if the new password works:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">mysql</span> <span class="o">-</span><span class="n">u</span> <span class="n">root</span> <span class="o">-</span><span class="n">p</span>
</pre></td></tr></tbody></table></code></pre></div></div>
