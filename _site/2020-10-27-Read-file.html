<h2 id="reading-files-in-python">Reading files in Python</h2>

<p>When working with data, it is usually provided as a simple text-file, a
.dat-file or something similar. Reading a file so we can use the data in our
program follows few, simple steps. Nevertheless a lot of things one finds
online may seem really complicated, so we start with a really simple example,
that can be modified easily.</p>

<h2 id="writing-the-datafile-testdat">Writing the datafile “test.dat”</h2>

<p>The file we are going to read should be named “test.dat” and saved in the same
folder as this small program. Doing so you should be able to simply copy and
paste the code snippets.</p>

<p>The file should look like this:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="p">,</span><span class="n">y</span>
<span class="mi">1</span><span class="p">,</span><span class="mi">1</span>
<span class="mi">2</span><span class="p">,</span><span class="mi">2</span>
<span class="mi">3</span><span class="p">,</span><span class="mi">3</span>
<span class="mi">4</span><span class="p">,</span><span class="mi">4</span>
<span class="mi">5</span><span class="p">,</span><span class="mi">5</span>
<span class="mi">6</span><span class="p">,</span><span class="mi">6</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="writing-a-function-read_file">Writing a function read_file</h2>

<p>As you usually do not just read one file, we are going to write a function that
takes the name of the file and returns lists with the data.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">get_data</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>                     <span class="c1"># first stept of writing a function
</span>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">as</span> <span class="nb">file</span><span class="p">:</span>            <span class="c1"># opens the file we want to read
</span>        <span class="n">data</span> <span class="o">=</span> <span class="nb">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>              <span class="c1"># reads the file
</span>    <span class="n">lines</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">)</span>            <span class="c1"># split into lines after each linebreak
</span>    <span class="k">del</span> <span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>                        <span class="c1"># the first line is "x, y"
</span>    <span class="k">del</span> <span class="n">lines</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>                       <span class="c1"># the last line is empty
</span>    <span class="n">x</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">y</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>                          <span class="c1"># create empty lists
</span>    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
        <span class="n">entry</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">","</span><span class="p">)</span>         <span class="c1"># split each line at the comma
</span>        <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>       <span class="c1"># add data to list
</span>    <span class="k">return</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>                         <span class="c1"># ending of the function
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p>This is a big bunch of code, but there are only a few important things to
notice: First of all the file is split with “\n” which corresponds to the
linebreak. After that two lines are deleted. Try out what happens if you do
not do that step! After that the lines are split at each “,”. If you have
different things where you want to split that is no problem, for example</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">entry</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">"</span><span class="se">\t</span><span class="s">"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>splits the lines at a tab. The return statement ends the written function and
gives us the two lists that we have created.</p>

<h2 id="using-the-written-function">Using the written function</h2>

<p>Now we can use the written function to read the file that we have created in
the beginning. To do so, simply add some code to your Python-file:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">get_data</span><span class="p">(</span><span class="s">"test.dat"</span><span class="p">)</span> <span class="c1"># calls the function with our file
</span><span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>By giving the function a filename we can now read that file and use a
print-statement to check if everything worked as expected.</p>

<h2 id="modify-this-function">Modify this function</h2>

<p>If you take a close look at the function, you will notice that you can modify it
for different use. By adding more lists you can work with files with more
entries and as we said before, we can change the characters Python uses to
split a line to many different things.</p>
