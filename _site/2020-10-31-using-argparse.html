<h1 id="what-is-argparse">What is Argparse?</h1>

<p><a href="https://docs.python.org/3/library/argparse.html">Argparse</a> is a module that comes pre-installed when you install Python. It allows for the creation of user-friendly command-line interfaces.</p>

<h2 id="creating-a-cli-program-to-find-the-area-of-a-rectangle">Creating a CLI Program to Find the Area of a Rectangle</h2>

<p><img src="https://cdn.discordapp.com/attachments/500822770092081163/772226648116035604/026b.PNG" alt="Using argparse to parse two integers" width="550" /></p>

<p>To start using argparse to recreate the example above, you will need to import the pacakge:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c1"># the following code will be contained within a file called area.py
</span><span class="kn">import</span> <span class="nn">argparse</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Now we will create a simple method to multiply and return two numbers, like so:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">area_of_rectangle</span><span class="p">(</span><span class="n">length</span><span class="p">,</span> <span class="n">width</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">length</span> <span class="o">*</span> <span class="n">width</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>This method will be called when the program is executed. The parameters <code class="highlighter-rouge">length</code> and <code class="highlighter-rouge">width</code> will be extracted from the command line arguments.</p>

<p>Now we must create a parser to handle the parsing of command-line arguments along with two positional arguments that we want to extract, i.e. the length and the width of the rectangle.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s">'Calculates the area of a rectangle'</span><span class="p">)</span>

<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'length'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">'An integer for the length of the rectangle'</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s">'width'</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">int</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s">'An integer for the width of the rectangle'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>We can use the values of these arguments by calling upon <code class="highlighter-rouge">parser.parse_args()</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="n">area</span> <span class="o">=</span> <span class="n">area_of_rectangle</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">length</span><span class="p">,</span> <span class="n">args</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">'The area of your rectangle is: '</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="s">' units squared.'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Putting everything together should look like this:</p>

<pre><code class="language-Python"># area.py
import argparse

def area_of_rectangle(length, width):
    return length * width

parser = argparse.ArgumentParser(description='Calculates the area of a rectangle')

parser.add_argument('length', default=0, type=int, help='An integer for the length of the rectangle')
parser.add_argument('width', default=0, type=int, help='An integer for the width of the rectangle')

args = parser.parse_args()
area = area_of_rectangle(args.length, args.width)
print('The area of your rectangle is: ', area, ' units squared.')
</code></pre>

<p>Thats about it! Argparse will now parse your command-line agruments for integers to be used in our method. Every parser will have a <code class="highlighter-rouge">-h</code> optional argument by default; this option will display the help message along with the parserâ€™s description.</p>

<p><img src="https://cdn.discordapp.com/attachments/500822770092081163/772226353188831272/026.PNG" alt="Using -h to display help message" width="550" /></p>
