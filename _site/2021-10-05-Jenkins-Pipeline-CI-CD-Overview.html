<h1 id="jenkins-pipeline">Jenkins Pipeline</h1>

<p>Jenkins Pipeline is a continuous delivery (CD) pipeline and has automated expression of processes that enables the code to move from the version control system and through all the processes of testing and deployment, so that the best and reliable built is handed over to your end users and customers.
Pipeline provides an extensible set of tools for modeling simple-to-complex delivery pipelines “as code” via the Pipeline domain-specific language (DSL) syntax.</p>

<h2 id="creating-a-jenkinsfile-and-committing-it-to-source-control-provides-a-number-of-immediate-benefits">Creating a Jenkinsfile and committing it to source control provides a number of immediate benefits:</h2>

<p>1.Automatically creates a Pipeline build process for all branches and pull requests.</p>

<p>2.Code review/iteration on the Pipeline (along with the remaining source code).</p>

<p>3.Audit trail for the Pipeline.</p>

<p>4.Single source of truth for the Pipeline, which can be viewed and edited by multiple members of the project.</p>

<h2 id="why-pipeline">Why Pipeline?</h2>

<p>Pipeline adds a powerful set of automation tools onto Jenkins, supporting use cases that span from simple continuous integration to comprehensive CD pipelines. By modeling a series of related tasks, users can take advantage of the many features of Pipeline:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>   1.Code: Pipelines are implemented in code and typically checked into source control, giving teams the ability to edit, review, and iterate upon their delivery pipeline.
   2.Durable: Pipelines can survive both planned and unplanned restarts of the Jenkins controller.
   3.Pausable: Pipelines can optionally stop and wait for human input or approval before continuing the Pipeline run.
   4.Versatile: Pipelines support complex real-world CD requirements, including the ability to fork/join, loop, and perform work in parallel.
   5.Extensible: The Pipeline plugin supports custom extensions to its DSL [1] and multiple options for integration with other plugins.
</pre></td></tr></tbody></table></code></pre></div></div>
<h2 id="pipeline-concepts">Pipeline concepts</h2>

<p>The following concepts are key aspects of Jenkins Pipeline, which tie in closely to Pipeline syntax.</p>

<h3 id="pipeline">Pipeline</h3>

<p>A Pipeline is a user-defined model of a CD pipeline. A Pipeline’s code defines your entire build process, which typically includes stages for building an application, testing it and then delivering it.</p>

<h3 id="node">Node</h3>

<p>A node is a machine which is part of the Jenkins environment and is capable of executing a Pipeline.</p>

<h3 id="stage">Stage</h3>

<p>A stage block defines a conceptually distinct subset of tasks performed through the entire Pipeline (e.g. “Build”, “Test” and “Deploy” stages), which is used by many plugins to visualize or present Jenkins Pipeline status/progress. [6]</p>

<h3 id="step">Step</h3>

<p>A single task. Fundamentally, a step tells Jenkins what to do at a particular point in time (or “step” in the process). For example, to execute the shell command make use the sh step: sh ‘make’. When a plugin extends the Pipeline DSL, [1] that typically means the plugin has implemented a new step.
Pipeline syntax overview</p>

<h3 id="pipeline-example">Pipeline example</h3>

<p>Example of a Jenkinsfile using Declarative Pipeline syntax:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre>pipeline { 
    agent any 
    options {
        skipStagesAfterUnstable()
    }
    stages {
        stage('Build') { 
            steps { 
                sh 'make' 
            }
        }
        stage('Test'){
            steps {
                sh 'make check'
                junit 'reports/**/*.xml' 
            }
        }
        stage('Deploy') {
            steps {
                sh 'make publish'
            }
        }
    }
}
</pre></td></tr></tbody></table></code></pre></div></div>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre>1. pipeline is Declarative Pipeline-specific syntax that defines a "block" containing all content and instructions for executing the entire Pipeline.

2. agent is Declarative Pipeline-specific syntax that instructs Jenkins to allocate an executor (on a node) and workspace for the entire Pipeline.

3. stage is a syntax block that describes a stage of this Pipeline. Read more about stage blocks in Declarative Pipeline syntax on the Pipeline syntax page. As mentioned above, stage blocks are optional in Scripted Pipeline syntax.

4. steps is Declarative Pipeline-specific syntax that describes the steps to be run in this stage.

5. sh is a Pipeline step (provided by the Pipeline: Nodes and Processes plugin) that executes the given shell command.

6. junit is another Pipeline step (provided by the JUnit plugin) for aggregating test reports.

7. node is Scripted Pipeline-specific syntax that instructs Jenkins to execute this Pipeline (and any stages contained within it), on any available agent/node. This is effectively equivalent to agent in Declarative Pipeline-specific syntax.


</pre></td></tr></tbody></table></code></pre></div></div>

<h1 id="more-on-jenkins-pipeline-at">More On Jenkins Pipeline at:</h1>

<p><a href="https://www.jenkins.io/doc/book/pipeline/">Jenkins Pipeline</a></p>

<p><a href="https://www.jenkins.io/doc/book/pipeline/syntax">Pipeline Syntax</a></p>

<p><a href="https://www.jenkins.io/doc/book/pipeline/jenkinsfile/">Using Jenkinsfile</a></p>
