<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo.png">

<title>CallBacks in Java | Flashreads</title>

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>CallBacks in Java | Flashreads</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="CallBacks in Java" />
<meta name="author" content="Antar Roy" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Using Callbacks to perform some task after an Async event in Java" />
<meta property="og:description" content="Using Callbacks to perform some task after an Async event in Java" />
<link rel="canonical" href="http://localhost:4000/java/2021/03/01/callbacks-in-java.html" />
<meta property="og:url" content="http://localhost:4000/java/2021/03/01/callbacks-in-java.html" />
<meta property="og:site_name" content="Flashreads" />
<meta property="og:image" content="http://localhost:4000/assets/images/java/call.svg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-03-01T16:53:39+01:00" />
<script type="application/ld+json">
{"datePublished":"2021-03-01T16:53:39+01:00","@type":"BlogPosting","image":"http://localhost:4000/assets/images/java/call.svg","dateModified":"2021-03-01T16:53:39+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/java/2021/03/01/callbacks-in-java.html"},"url":"http://localhost:4000/java/2021/03/01/callbacks-in-java.html","author":{"@type":"Person","name":"Antar Roy"},"description":"Using Callbacks to perform some task after an Async event in Java","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo.png"},"name":"Antar Roy"},"headline":"CallBacks in Java","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<!-- 
<link rel="stylesheet" href="/assets/css/bootstrap.min.css" rel="stylesheet" defer>
    
<link href="/assets/css/screen.css" rel="stylesheet" defer>

<link href="/assets/css/main.css" rel="stylesheet" defer>
-->
<link rel="stylesheet" href="/assets/css/styles.pure.css" rel="stylesheet" defer>
<script src="/assets/js/jquery.min.js" defer></script>
<meta name="google-site-verification" content="w8QmqtnEf96t3O1LZ1oe-ShyFPKLK14SW4c9kqnB5PE" />

</head>




<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/assets/images/logo.png" alt="Flashreads">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">               
                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://github.com/flashreads/blogs"><i class="fab fa-github"></i> Write in GitHub</a>
                </li>

                <script src="/assets/js/lunr.min.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">Flashreads</h1>
    <p class="lead">
        Flashreads blogs
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=CallBacks in Java&url=http://localhost:4000/java/2021/03/01/callbacks-in-java.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http://localhost:4000/java/2021/03/01/callbacks-in-java.html" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/java/2021/03/01/callbacks-in-java.html" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-3 col-lg-3 text-center text-md-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="https://www.gravatar.com/avatar/c92d22d3bf551c05ce1994387f6b66da?s=250&d=mm&r=x" alt="Antar Roy" title="Antar Roy">
                        
                        <div>
                            By Antar Roy
                        </div>
                    </div>
                </div>
                

                <!-- Post Title -->
                <h1 class="posttitle">CallBacks in Java</h1>

            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid" src="/assets/images/java/call.svg" alt="CallBacks in Java">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                <!-- End Toc -->
                <h1 id="using-callbacks-to-perform-some-task-after-an-async-event-in-java">Using Callbacks to perform some task after an Async event in Java</h1>

<p>Let’s discuss the problem first and then we can understand what a callback is!</p>

<p>Let’s see a code that does some async task which might take some time but we want to do some other work in the meantime. After getting the response or the data been produced, we want to consume the data.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre>
<span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="n">Thread</span><span class="o">{</span>

    <span class="nd">@Override</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>

        <span class="kd">super</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>

        <span class="c1">// some api calls or async task that might take some time</span>

    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">MyThread</span> <span class="n">myThread</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyThread</span><span class="o">();</span>

        <span class="n">myThread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

        <span class="c1">// now we dont want to wait, instead we want to initialize the ui with basic components</span>

        <span class="n">initUi</span><span class="o">();</span>

        <span class="c1">// after getting the response from the api, we want to update the ui.</span>

        <span class="c1">// but the code won't wait for that to end and waiting is not a option for us</span>

    <span class="o">}</span>

<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>Now how can we know when the data is ready to consume rather than waiting for it?</p>

<p>Well, that’s where Callback comes in. The word <code class="highlighter-rouge">Callback</code> is self-describing. It is calling back, like instead of going forward, we are going backward! Let’s create two concrete methods <code class="highlighter-rouge">onSuccess()</code> and <code class="highlighter-rouge">onFailure()</code> and let the thread that is running separately, call these methods back to the main thread! We will create an interface and pass an object to the thread.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
</pre></td><td class="rouge-code"><pre>
<span class="kd">interface</span> <span class="nc">Callback</span><span class="o">{</span>

    <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">Data</span> <span class="n">data</span><span class="o">);</span> <span class="c1">// method that to be called if the task succeded</span>

    <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Data</span> <span class="n">data</span><span class="o">);</span> <span class="c1">// method that to be called if the task failed</span>

<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="n">Thread</span><span class="o">{</span>

    <span class="n">Callback</span> <span class="n">callback</span><span class="o">;</span>

    <span class="n">MyThread</span><span class="o">(</span><span class="n">Callback</span> <span class="n">callback</span><span class="o">){</span>

        <span class="k">this</span><span class="o">.</span><span class="na">callback</span> <span class="o">=</span> <span class="n">callback</span><span class="o">;</span>

    <span class="o">}</span>

    <span class="nd">@Override</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>

        <span class="kd">super</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>

        <span class="c1">// some api calls or async task that might take some time</span>

        <span class="k">if</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">status</span> <span class="o">==</span> <span class="n">SUCCESS</span><span class="o">)</span><span class="n">callback</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">data</span><span class="o">);</span>

        <span class="k">else</span> <span class="nf">callback</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">errorMessage</span><span class="o">);</span>

    <span class="o">}</span>

<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">MyThread</span> <span class="n">myThread</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyThread</span><span class="o">(</span><span class="k">new</span> <span class="n">Callback</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// passing the</span>

            <span class="nd">@Override</span>

            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onSuccess</span><span class="o">(</span><span class="n">Data</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>

                <span class="n">loadSuccessUi</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

            <span class="o">}</span>



            <span class="nd">@Override</span>

            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onFailure</span><span class="o">(</span><span class="n">Data</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>

                <span class="n">loadFailureUi</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>

            <span class="o">}</span>

        <span class="o">});</span>

        <span class="n">myThread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>

        <span class="n">loadUi</span><span class="o">();</span>

        <span class="c1">// now initial ui will be loaded without waiting for the response</span>

        <span class="c1">// when the reponse is ready the ui will be updated</span>

    <span class="o">}</span>

<span class="o">}</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>We will give the desired body to onSuccess and onFailure methods and then pass the object to the new thread that will call these methods back to the main thread and pass necessary args.</p>

<p>In short, these two methods are working on the main thread but getting invoked from the seprate thread!</p>

            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2021-03-01">01 Mar 2021</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#java">java</a>
                    </li>
                    
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    
                    <li>
                        <a class="smoothscroll" href="/tags#asynchronus-calls">#asynchronus calls</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#callbacks">#callbacks</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#interface">#interface</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#java">#java</a>
                    </li>
                    
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="//python/2020/12/20/pandas-read-file-backslash.html"> &laquo; Pandas read files</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="//javascript/2021/03/10/using-template-strings.html">Start using template strings now! &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->


<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

</div>


    
</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-12 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="/categories#javascript">javascript (22)</a>
                
                    <a class="mt-1 mb-1" href="/categories#git">git (9)</a>
                
                    <a class="mt-1 mb-1" href="/categories#python">python (38)</a>
                
                    <a class="mt-1 mb-1" href="/categories#databases">databases (7)</a>
                
                    <a class="mt-1 mb-1" href="/categories#linux">linux (15)</a>
                
                    <a class="mt-1 mb-1" href="/categories#java">java (24)</a>
                
                    <a class="mt-1 mb-1" href="/categories#other">other (9)</a>
                
                    <a class="mt-1 mb-1" href="/categories#html">html (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#ci">ci (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#go">go (3)</a>
                
                    <a class="mt-1 mb-1" href="/categories#kubernetes">kubernetes (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#frontend,-frontendtips">frontend, frontendtips (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#frontend-development">frontend-development (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#java,-c++">java, c++ (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#flowchart">flowchart (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Python">Python (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#css,-flex">css, flex (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#css">css (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Javascript">Javascript (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#exception">exception (3)</a>
                
            
            
		</div>
	</div>
</div>


</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous" defer></script>


<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//.disqus.com/count.js"></script>


</body>
</html>
