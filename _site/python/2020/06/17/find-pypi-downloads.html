<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo.png">

<title>Python package download stats from PyPI | Flashreads</title>

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Python package download stats from PyPI | Flashreads</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Python package download stats from PyPI" />
<meta name="author" content="Zoran Pandovski" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The download stats were removed from PyPi modules. There were few reasons for that as explained in the mailing list. So, now the best available option to get the statistics is to use the Google BigQuery database. To use it you only need a Google account and enabled BigQuery API." />
<meta property="og:description" content="The download stats were removed from PyPi modules. There were few reasons for that as explained in the mailing list. So, now the best available option to get the statistics is to use the Google BigQuery database. To use it you only need a Google account and enabled BigQuery API." />
<link rel="canonical" href="http://localhost:4000/python/2020/06/17/find-pypi-downloads.html" />
<meta property="og:url" content="http://localhost:4000/python/2020/06/17/find-pypi-downloads.html" />
<meta property="og:site_name" content="Flashreads" />
<meta property="og:image" content="http://localhost:4000/assets/images/python/stats.svg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-06-17T22:56:36+02:00" />
<script type="application/ld+json">
{"datePublished":"2020-06-17T22:56:36+02:00","@type":"BlogPosting","image":"http://localhost:4000/assets/images/python/stats.svg","dateModified":"2020-06-17T22:56:36+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/python/2020/06/17/find-pypi-downloads.html"},"url":"http://localhost:4000/python/2020/06/17/find-pypi-downloads.html","author":{"@type":"Person","name":"Zoran Pandovski"},"description":"The download stats were removed from PyPi modules. There were few reasons for that as explained in the mailing list. So, now the best available option to get the statistics is to use the Google BigQuery database. To use it you only need a Google account and enabled BigQuery API.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/logo.png"},"name":"Zoran Pandovski"},"headline":"Python package download stats from PyPI","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<!-- 
<link rel="stylesheet" href="/assets/css/bootstrap.min.css" rel="stylesheet" defer>
    
<link href="/assets/css/screen.css" rel="stylesheet" defer>

<link href="/assets/css/main.css" rel="stylesheet" defer>
-->
<link rel="stylesheet" href="/assets/css/styles.pure.css" rel="stylesheet" defer>
<script src="/assets/js/jquery.min.js" defer></script>
<meta name="google-site-verification" content="w8QmqtnEf96t3O1LZ1oe-ShyFPKLK14SW4c9kqnB5PE" />

</head>




<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img src="/assets/images/logo.png" alt="Flashreads">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">               
                <li class="nav-item">
                <a target="_blank" class="nav-link" href="https://github.com/flashreads/blogs"><i class="fab fa-github"></i> Write in GitHub</a>
                </li>

                <script src="/assets/js/lunr.min.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Site Title
================================================== -->
<div class="mainheading">
    <h1 class="sitetitle">Flashreads</h1>
    <p class="lead">
        Flashreads blogs
    </p>
</div>

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-2 pl-0">
            <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Python package download stats from PyPI&url=http://localhost:4000/python/2020/06/17/find-pypi-downloads.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=http://localhost:4000/python/2020/06/17/find-pypi-downloads.html" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/python/2020/06/17/find-pypi-downloads.html" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    
    <div class="sep">
    </div>
    <ul>
        <li>
        <a class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
    
</div>

        </div>

        <!-- Post -->
        

        <div class="col-md-9 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Author Box -->
                
                <div class="row post-top-meta">
                    <div class="col-xs-12 col-md-3 col-lg-3 text-center text-md-left mb-4 mb-md-0">
                        
                        <img class="author-thumb" src="https://www.gravatar.com/avatar/8221251152f788018cd1475d78538cbb?s=250&d=mm&r=x" alt="Zoran Pandovski" title="Zoran Pandovski">
                        
                        <div>
                            By Zoran Pandovski
                        </div>
                    </div>
                </div>
                

                <!-- Post Title -->
                <h1 class="posttitle">Python package download stats from PyPI</h1>

            </div>

            <!-- Adsense if enabled from _config.yml (change your pub id and slot) -->
            
            <!-- End Adsense -->

            <!-- Post Featured Image -->
            

            
            <img class="featured-image img-fluid" src="/assets/images/python/stats.svg" alt="Python package download stats from PyPI">
            

            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <!-- Toc if any -->
                
                <!-- End Toc -->
                <p>The download stats were removed from PyPi modules. There were few reasons for that as explained in the <a href="https://mail.python.org/pipermail/distutils-sig/2013-May/020855.html">mailing list</a>. So, now the best available option to get the statistics is to use the <a href="https://console.cloud.google.com/bigquery?project=the-psf&amp;page=table&amp;t=downloads&amp;d=pypi&amp;p=the-psf">Google BigQuery</a> database. To use it you only need a Google account and enabled BigQuery API.</p>

<p>The most useful query is to count the package downloads:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre></td><td class="rouge-code"><pre>
<span class="k">SELECT</span>

  <span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">AS</span> <span class="n">num_downloads</span><span class="p">,</span>

  <span class="n">SUBSTR</span><span class="p">(</span><span class="n">_TABLE_SUFFIX</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">AS</span> <span class="nv">`month`</span>

<span class="k">FROM</span> <span class="nv">`the-psf.pypi.downloads*`</span>

<span class="k">WHERE</span>

  <span class="n">file</span><span class="p">.</span><span class="n">project</span> <span class="o">=</span> <span class="s1">'YOUR_PACKAGE_NAME'</span>

  <span class="k">AND</span>

  <span class="n">details</span><span class="p">.</span><span class="n">installer</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">'pip'</span>

  <span class="k">AND</span> <span class="n">_TABLE_SUFFIX</span>

    <span class="k">BETWEEN</span> <span class="n">FORMAT_DATE</span><span class="p">(</span>

      <span class="s1">'%Y%m01'</span><span class="p">,</span> <span class="n">DATE_SUB</span><span class="p">(</span><span class="k">CURRENT_DATE</span><span class="p">(),</span> <span class="n">INTERVAL</span> <span class="mi">10</span> <span class="k">MONTH</span><span class="p">))</span>

    <span class="k">AND</span> <span class="n">FORMAT_DATE</span><span class="p">(</span><span class="s1">'%Y%m%d'</span><span class="p">,</span> <span class="k">CURRENT_DATE</span><span class="p">())</span>

<span class="k">GROUP</span> <span class="k">BY</span> <span class="nv">`month`</span>

<span class="k">ORDER</span> <span class="k">BY</span> <span class="nv">`month`</span> <span class="k">DESC</span>

</pre></td></tr></tbody></table></code></pre></div></div>

<p>The above query uses the <code class="highlighter-rouge">the-psf.pypi.downloads</code> table that contains information about downloads. It selects the package and filters the data to contain only <code class="highlighter-rouge">pip</code> installs(no mirrors downloads) in the last 10 months.</p>

<p>Other useful columns from the  <code class="highlighter-rouge">the-psf.pypi.downloads</code> are:</p>

<table>
  <tbody>
    <tr>
      <td>Column</td>
      <td>Info</td>
      <td>Example</td>
    </tr>
  </tbody>
</table>

<p>|—|—|—|</p>

<table>
  <tbody>
    <tr>
      <td>file.project</td>
      <td>The package name</td>
      <td>requests</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>file.version</td>
      <td>Version of the package</td>
      <td>1.2.1</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>details.installer.name</td>
      <td>Installer name</td>
      <td>pip, bandersnatch</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>details.python</td>
      <td>Python version</td>
      <td>2.7, 3.6, 3.7.3</td>
    </tr>
  </tbody>
</table>

            </div>

            <!-- Rating -->
            

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2020-06-17">17 Jun 2020</time></span>           
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#python">python</a>
                    </li>
                    
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                    
                    <li>
                        <a class="smoothscroll" href="/tags#pypi">#pypi</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#pypi-stats">#pypi-stats</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/tags#python">#python</a>
                    </li>
                    
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Prev/Next -->
            <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
            
            <a class="prev d-block col-md-6" href="//python/2020/06/17/python-modules.html"> &laquo; Python Modules</a>
            
            
            <a class="next d-block col-md-6 text-lg-right" href="//python/2020/06/17/object-not-subscritble.html">TypeError 'NoneType' object is not subscriptable &raquo; </a>
            
            <div class="clearfix"></div>
            </div>
            <!-- End Categories -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->


<!-- Review with LD-JSON, adapt it for your needs if you like, but make sure you test the generated HTML source code first: 
https://search.google.com/structured-data/testing-tool/u/0/
================================================== -->

</div>


    
</div>

<!-- Categories Jumbotron
================================================== -->
<div class="jumbotron fortags">
	<div class="d-md-flex h-100">
		<div class="col-md-12 p-5 align-self-center text-center">
            
            
                
                    <a class="mt-1 mb-1" href="/categories#javascript">javascript (22)</a>
                
                    <a class="mt-1 mb-1" href="/categories#git">git (9)</a>
                
                    <a class="mt-1 mb-1" href="/categories#python">python (38)</a>
                
                    <a class="mt-1 mb-1" href="/categories#databases">databases (7)</a>
                
                    <a class="mt-1 mb-1" href="/categories#linux">linux (15)</a>
                
                    <a class="mt-1 mb-1" href="/categories#java">java (24)</a>
                
                    <a class="mt-1 mb-1" href="/categories#other">other (9)</a>
                
                    <a class="mt-1 mb-1" href="/categories#html">html (5)</a>
                
                    <a class="mt-1 mb-1" href="/categories#ci">ci (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#go">go (3)</a>
                
                    <a class="mt-1 mb-1" href="/categories#kubernetes">kubernetes (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#frontend,-frontendtips">frontend, frontendtips (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#frontend-development">frontend-development (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#java,-c++">java, c++ (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#flowchart">flowchart (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Python">Python (2)</a>
                
                    <a class="mt-1 mb-1" href="/categories#css,-flex">css, flex (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#css">css (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#Javascript">Javascript (1)</a>
                
                    <a class="mt-1 mb-1" href="/categories#exception">exception (3)</a>
                
            
            
		</div>
	</div>
</div>


</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous" defer></script>


<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script> 


<script id="dsq-count-scr" src="//.disqus.com/count.js"></script>


</body>
</html>
