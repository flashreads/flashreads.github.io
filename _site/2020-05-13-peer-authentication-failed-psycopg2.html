<h1 id="psycopg2operationalerror-fatal-peer-authentication-failed-for-user-postgres">psycopg2.OperationalError: FATAL: Peer authentication failed for user “postgres”</h1>

<p>The <a href="https://www.psycopg.org/docs/usage.html">Psycopg</a> is one of the most popular and widely used python database adapters for the <a href="https://www.postgresql.org/">PostgreSQL database</a>.
The basic example shows how easy it is to connect to the existing database with psycopg. But, it doesn’t provide all of the 
required arguments to the <a href="https://www.psycopg.org/docs/module.html#psycopg2.connect">connect</a> function that usually leads to the above error. The basic module usage example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="c1"># Connect to an existing database
</span><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s">"dbname=test user=postgres"</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>Since the <code class="highlighter-rouge">psycopg2.OperationalError</code> error is quite generic to avoid it make sure you are providing the following arguments:</p>

<ul>
  <li>user - the database user used to authenticate</li>
  <li>password - the password for the database user</li>
  <li>database - the database name</li>
  <li>host - the database host address</li>
</ul>

<p>The basic example with the required arguments:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">dbname</span><span class="o">=</span><span class="s">'db'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'postgres'</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'postgres'</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<blockquote>
  <p>Note: the connection parameters can be added as a connection string or as a set of keyword arguments.</p>
</blockquote>
